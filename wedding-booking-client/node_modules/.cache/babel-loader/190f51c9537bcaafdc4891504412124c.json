{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Darian\\\\Desktop\\\\nou\\\\thesis\\\\wedding-booking-client\\\\src\\\\pages\\\\signup.js\";\nimport React, { Component } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\nimport AppIcon from '../images/logo-mare.png';\nimport { Link } from 'react-router-dom'; //Mui imports\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress'; // import Typography from '@material-ui/core/Typography';\n\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Typography } from '@material-ui/core'; //Redux\n\nimport { connect } from 'react-redux';\nimport { signupUser } from '../redux/actions/userActions';\nconst styles = {\n  form: {\n    textAlign: 'center'\n  },\n  image: {\n    margin: '20px auto 20px auto',\n    maxWidth: '200px',\n    maxHeight: '200px'\n  },\n  textField: {\n    margin: '10px auto 10px auto'\n  },\n  button: {\n    marginTop: 20,\n    position: 'relative'\n  },\n  customError: {\n    color: 'red',\n    fontSize: \"0.8rem\",\n    marginTop: 10\n  },\n  progress: {\n    position: \"absolute\"\n  }\n};\n\nclass signup extends Component {\n  constructor() {\n    super();\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.setState({\n        loading: true\n      });\n      const newUserData = {\n        email: this.state.email,\n        password: this.state.password,\n        confirmPassword: this.state.confirmPassword,\n        username: this.state.username,\n        userType: this.state.userType\n      };\n      this.props.signupUser(newUserData, this.props.history);\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      confirmPassword: '',\n      username: '',\n      userType: 'Married to be',\n      errors: {}\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.UI.errors) {\n      this.setState({\n        errors: nextProps.UI.errors\n      });\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      UI: {\n        loading\n      }\n    } = this.props;\n    const {\n      errors\n    } = this.state;\n    return React.createElement(Grid, {\n      container: true,\n      className: classes.form,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      sm: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      item: true,\n      sm: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: AppIcon,\n      alt: \"logo\",\n      className: classes.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      noValidate: true,\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"email\",\n      name: \"email\",\n      type: \"email\",\n      label: \"Email\",\n      className: classes.textField,\n      helperText: errors.email,\n      error: errors.email ? true : false,\n      value: this.state.email,\n      onChange: this.handleChange,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"password\",\n      name: \"password\",\n      type: \"password\",\n      label: \"Password\",\n      className: classes.textField,\n      helperText: errors.password,\n      error: errors.password ? true : false,\n      value: this.state.password,\n      onChange: this.handleChange,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"confirmPassword\",\n      name: \"confirmPassword\",\n      type: \"password\",\n      label: \"Confirm Password\",\n      className: classes.textField,\n      helperText: errors.confirmPassword,\n      error: errors.confirmPassword ? true : false,\n      value: this.state.confirmPassword,\n      onChange: this.handleChange,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"username\",\n      name: \"username\",\n      type: \"text\",\n      label: \"Username\",\n      className: classes.textField,\n      helperText: errors.username,\n      error: errors.username ? true : false,\n      value: this.state.username,\n      onChange: this.handleChange,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(FormControl, {\n      className: classes.formControl,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      id: \"demo-simple-select-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"User Type\"), React.createElement(Select, {\n      labelId: \"demo-simple-select-label\",\n      id: \"demo-simple-select\",\n      value: this.state.userType,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(MenuItem, {\n      value: \"Married To Be\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Married To Be\"), React.createElement(MenuItem, {\n      value: \"Service Provider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Service Provider\"))), errors.general && React.createElement(Typography, {\n      variant: \"body2\",\n      className: classes.customError,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, errors.general), React.createElement(Button, {\n      type: \"submit\",\n      variant: \"contained\",\n      color: \"primary\",\n      className: classes.button,\n      disabled: loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Signup\", loading && React.createElement(CircularProgress, {\n      size: 30,\n      className: classes.progress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Already have an account ? Login \", React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"here\")))), React.createElement(Grid, {\n      item: true,\n      sm: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }));\n  }\n\n}\n\nsignup.propTypes = {\n  classes: PropTypes.object.isRequired,\n  user: PropTypes.object.isRequired,\n  UI: PropTypes.object.isRequired,\n  signupUser: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  UI: state.UI\n});\n\nexport default connect(mapStateToProps, {\n  signupUser\n})(withStyles(styles)(signup));","map":{"version":3,"sources":["C:/Users/Darian/Desktop/nou/thesis/wedding-booking-client/src/pages/signup.js"],"names":["React","Component","withStyles","PropTypes","AppIcon","Link","InputLabel","FormControl","Select","MenuItem","Grid","CircularProgress","TextField","Button","Typography","connect","signupUser","styles","form","textAlign","image","margin","maxWidth","maxHeight","textField","button","marginTop","position","customError","color","fontSize","progress","signup","constructor","handleSubmit","event","preventDefault","setState","loading","newUserData","email","state","password","confirmPassword","username","userType","props","history","handleChange","target","name","value","errors","componentWillReceiveProps","nextProps","UI","render","classes","formControl","general","propTypes","object","isRequired","user","func","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport PropTypes from 'prop-types';\r\nimport AppIcon from '../images/logo-mare.png';\r\nimport {Link} from 'react-router-dom' ;\r\n\r\n//Mui imports\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n// import Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Typography } from '@material-ui/core';\r\n//Redux\r\nimport {connect} from 'react-redux';\r\nimport {signupUser} from '../redux/actions/userActions';\r\n\r\nconst styles = {\r\n    form: {\r\n        textAlign: 'center'\r\n      },\r\n      image: {\r\n          margin: '20px auto 20px auto',\r\n          maxWidth: '200px',\r\n          maxHeight: '200px'\r\n      },\r\n      textField: {\r\n          margin: '10px auto 10px auto',\r\n      },\r\n      button: {\r\n          marginTop: 20,\r\n          position: 'relative'\r\n      },\r\n      customError: {\r\n          color: 'red',\r\n          fontSize: \"0.8rem\",\r\n          marginTop: 10,\r\n      },\r\n      progress: {\r\n          position: \"absolute\",\r\n      }\r\n};\r\n\r\nclass signup extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            confirmPassword: '',\r\n            username: '',\r\n            userType: 'Married to be',\r\n            errors: {} \r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        if(nextProps.UI.errors){\r\n            this.setState({errors: nextProps.UI.errors});\r\n        }\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n       event.preventDefault();\r\n       this.setState({\r\n           loading: true\r\n       })\r\n       const newUserData = {\r\n           email: this.state.email,\r\n           password: this.state.password,\r\n           confirmPassword: this.state.confirmPassword,\r\n           username: this.state.username,\r\n           userType: this.state.userType,\r\n       }\r\n       this.props.signupUser(newUserData, this.props.history);\r\n    }\r\n\r\n    handleChange= (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {classes, UI : {loading}} = this.props;\r\n        const {errors} = this.state;\r\n        return (\r\n            <Grid container className={classes.form}>\r\n                <Grid item sm/>\r\n                <Grid item sm>\r\n                    <img src={AppIcon} alt=\"logo\" className={classes.image}/>\r\n                    <form noValidate onSubmit={this.handleSubmit}>\r\n                        <TextField id='email' name='email' type='email' label='Email' className={classes.textField}\r\n                           helperText={errors.email} error={errors.email ? true : false}  value={this.state.email} onChange={this.handleChange} fullWidth/>\r\n                        <TextField id='password' name='password' type='password' label='Password' className={classes.textField}\r\n                            helperText={errors.password} error={errors.password ? true : false}  value={this.state.password} onChange={this.handleChange} fullWidth/>\r\n                        <TextField id='confirmPassword' name='confirmPassword' type='password' label='Confirm Password' className={classes.textField}\r\n                            helperText={errors.confirmPassword} error={errors.confirmPassword ? true : false}  value={this.state.confirmPassword} onChange={this.handleChange} fullWidth/>\r\n                        <TextField id='username' name='username' type='text' label='Username' className={classes.textField}\r\n                            helperText={errors.username} error={errors.username ? true : false}  value={this.state.username} onChange={this.handleChange} fullWidth/>\r\n                        <FormControl className={classes.formControl} fullWidth>\r\n                            <InputLabel id=\"demo-simple-select-label\">User Type</InputLabel>\r\n                            <Select labelId=\"demo-simple-select-label\" id=\"demo-simple-select\" value={this.state.userType} onChange={this.handleChange}>\r\n                                <MenuItem value=\"Married To Be\">Married To Be</MenuItem>\r\n                                <MenuItem value=\"Service Provider\">Service Provider</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                        \r\n                        {errors.general && (\r\n                            <Typography variant='body2' className={classes.customError}>\r\n                                {errors.general}\r\n                            </Typography>\r\n                        )}\r\n                        <Button type=\"submit\" variant='contained' color=\"primary\" className={classes.button}\r\n                        disabled={loading}>\r\n                        Signup\r\n                        {loading && (\r\n                            <CircularProgress size={30} className={classes.progress}/>\r\n                        )} \r\n                        </Button>\r\n                        <br/><br/>\r\n                        <small>Already have an account ? Login <Link to=\"/login\">here</Link></small>\r\n                    </form>\r\n                </Grid>\r\n                <Grid item sm/>\r\n            </Grid>\r\n        )\r\n  }\r\n}\r\n\r\nsignup.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    UI:  PropTypes.object.isRequired,\r\n    signupUser:  PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    user: state.user,\r\n    UI: state.UI\r\n})\r\n\r\nexport default connect(mapStateToProps, {signupUser})(withStyles(styles)(signup));"]},"metadata":{},"sourceType":"module"}