{"ast":null,"code":"import { SET_SCREAMS, LOADING_DATA, LIKE_SCREAM, UNLIKE_SCREAM, DELETE_SCREAM, LOADING_UI, POST_SCREAM, CLEAR_ERRORS, SET_ERRORS, STOP_LOADING_UI, SET_SCREAM, SUBMIT_COMMENT } from '../types';\nimport axios from 'axios'; //Get all screams\n\nexport const getScreams = () => dispatch => {\n  dispatch({\n    type: LOADING_DATA\n  });\n  axios.get('/screams').then(res => {\n    dispatch({\n      type: SET_SCREAMS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: SET_SCREAMS,\n      payload: []\n    });\n  });\n};\nexport const getScream = screamId => dispatch => {\n  dispatch({\n    type: LOADING_UI\n  });\n  axios.get(`/scream/${screamId}`).then(res => {\n    dispatch({\n      type: SET_SCREAM,\n      payload: res.data\n    });\n    dispatch({\n      type: STOP_LOADING_UI\n    });\n  }).catch(err => console.log(err));\n}; //Post a scream\n\nexport const postScream = (newScream, photos) => dispatch => {\n  dispatch({\n    type: LOADING_UI\n  });\n  axios.post('/scream', newScream).then(res => {\n    dispatch({\n      type: POST_SCREAM,\n      payload: res.data\n    });\n    dispatch(clearErrors());\n    return res.data;\n  }).then(res => {\n    console.log(res);\n    console.log(photos); // const formData = new FormData();\n    // formData.append('image', photos, \"image.name\");\n    // this.props.uploadImage(formData);\n  }).catch(err => {\n    dispatch({\n      type: SET_ERRORS,\n      payload: err.response.data\n    });\n  });\n}; //Like a scream\n\nexport const likeScream = screamId => dispatch => {\n  axios.get(`/scream/${screamId}/like`).then(res => {\n    dispatch({\n      type: LIKE_SCREAM,\n      payload: res.data\n    });\n  }).catch(err => console.log(err));\n}; //Unlike a scream\n\nexport const unlikeScream = screamId => dispatch => {\n  axios.get(`/scream/${screamId}/unlike`).then(res => {\n    dispatch({\n      type: UNLIKE_SCREAM,\n      payload: res.data\n    });\n  }).catch(err => console.log(err));\n};\nexport const submitComment = (screamId, commentData) => dispatch => {\n  axios.post(`/scream/${screamId}/comment`, commentData).then(res => {\n    dispatch({\n      type: SUBMIT_COMMENT,\n      payload: res.data\n    });\n    dispatch(clearErrors());\n  }).catch(err => {\n    dispatch({\n      type: SET_ERRORS,\n      payload: err.response.data\n    });\n  });\n};\nexport const deleteScream = screamId => dispatch => {\n  axios.delete(`/scream/${screamId}`).then(() => {\n    dispatch({\n      type: DELETE_SCREAM,\n      payload: screamId\n    });\n  }).catch(err => console.log(err));\n};\nexport const getUserData = username => dispatch => {\n  dispatch({\n    type: LOADING_DATA\n  });\n  axios.get(`/user/${username}`).then(res => {\n    dispatch({\n      type: SET_SCREAMS,\n      payload: res.data.screams\n    });\n  }).catch(() => {\n    dispatch({\n      type: SET_SCREAMS,\n      payload: null\n    });\n  });\n};\nexport const clearErrors = () => dispatch => {\n  dispatch({\n    type: CLEAR_ERRORS\n  });\n};","map":{"version":3,"sources":["C:/Users/Darian/Desktop/nou/thesis/wedding-booking-client/src/redux/actions/dataActions.js"],"names":["SET_SCREAMS","LOADING_DATA","LIKE_SCREAM","UNLIKE_SCREAM","DELETE_SCREAM","LOADING_UI","POST_SCREAM","CLEAR_ERRORS","SET_ERRORS","STOP_LOADING_UI","SET_SCREAM","SUBMIT_COMMENT","axios","getScreams","dispatch","type","get","then","res","payload","data","catch","err","getScream","screamId","console","log","postScream","newScream","photos","post","clearErrors","response","likeScream","unlikeScream","submitComment","commentData","deleteScream","delete","getUserData","username","screams"],"mappings":"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","sourcesContent":["import {SET_SCREAMS, LOADING_DATA, LIKE_SCREAM, UNLIKE_SCREAM, DELETE_SCREAM,\r\n     LOADING_UI, POST_SCREAM, CLEAR_ERRORS, SET_ERRORS,STOP_LOADING_UI, SET_SCREAM, SUBMIT_COMMENT} from '../types';\r\nimport axios from 'axios';\r\n\r\n//Get all screams\r\nexport const getScreams = () => (dispatch) => {\r\n    dispatch({type: LOADING_DATA});\r\n    axios.get('/screams')\r\n    .then(res => {\r\n        dispatch({\r\n            type: SET_SCREAMS,\r\n            payload: res.data\r\n        })\r\n    })\r\n    .catch(err =>{\r\n        dispatch({\r\n            type: SET_SCREAMS,\r\n            payload: []\r\n        })\r\n    })\r\n}\r\n\r\nexport const getScream = (screamId) => (dispatch) => {\r\n    dispatch({type: LOADING_UI});\r\n    axios.get(`/scream/${screamId}`)\r\n    .then(res => {\r\n        dispatch({\r\n            type: SET_SCREAM,\r\n            payload: res.data\r\n        });\r\n        dispatch({\r\n            type: STOP_LOADING_UI\r\n        });\r\n    })\r\n    .catch(err => console.log(err));\r\n}\r\n\r\n//Post a scream\r\nexport const postScream = (newScream, photos) => (dispatch) => {\r\n    dispatch({type: LOADING_UI});\r\n    axios.post('/scream', newScream)\r\n    .then(res => {\r\n        dispatch({\r\n            type: POST_SCREAM,\r\n            payload: res.data\r\n        });\r\n        dispatch(clearErrors());\r\n        return res.data;\r\n    })\r\n    .then((res) => {\r\n        console.log(res);\r\n        console.log(photos);\r\n        // const formData = new FormData();\r\n        // formData.append('image', photos, \"image.name\");\r\n        // this.props.uploadImage(formData);\r\n    })\r\n    .catch(err => {\r\n        dispatch({\r\n            type: SET_ERRORS,\r\n            payload: err.response.data\r\n        });\r\n    })\r\n}\r\n\r\n//Like a scream\r\nexport const likeScream = (screamId) => dispatch => {\r\n    axios.get(`/scream/${screamId}/like`)\r\n    .then(res => {\r\n        dispatch({\r\n            type: LIKE_SCREAM,\r\n            payload: res.data\r\n        })\r\n        \r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\n\r\n//Unlike a scream\r\nexport const unlikeScream = (screamId) => dispatch => {\r\n    axios.get(`/scream/${screamId}/unlike`)\r\n    .then(res => {\r\n        dispatch({\r\n            type: UNLIKE_SCREAM,\r\n            payload: res.data\r\n        })\r\n        \r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const submitComment = (screamId, commentData) => (dispatch) => {\r\n    axios.post(`/scream/${screamId}/comment`, commentData)\r\n    .then(res => {\r\n        dispatch({\r\n            type: SUBMIT_COMMENT,\r\n            payload: res.data\r\n        })\r\n        dispatch(clearErrors());\r\n    })\r\n    .catch(err => {\r\n        dispatch({\r\n            type: SET_ERRORS,\r\n            payload: err.response.data\r\n        })\r\n    })\r\n} \r\n\r\nexport const deleteScream = (screamId) => (dispatch) => {\r\n    axios.delete(`/scream/${screamId}`)\r\n    .then(() => {\r\n        dispatch({\r\n            type: DELETE_SCREAM,\r\n            payload: screamId\r\n            })\r\n    })\r\n    .catch(err => console.log(err));\r\n}\r\n\r\nexport const getUserData = (username) => (dispatch) => {\r\n    dispatch({type: LOADING_DATA});\r\n    axios.get(`/user/${username}`)\r\n    .then(res => {\r\n        dispatch({\r\n            type: SET_SCREAMS,\r\n            payload: res.data.screams\r\n        });\r\n    })\r\n    .catch(() => {\r\n        dispatch({\r\n            type: SET_SCREAMS,\r\n            payload: null\r\n        })\r\n    })\r\n}\r\n\r\nexport const clearErrors = () => (dispatch) => {\r\n    dispatch({type: CLEAR_ERRORS});\r\n}"]},"metadata":{},"sourceType":"module"}